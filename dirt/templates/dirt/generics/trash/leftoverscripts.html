<!-- <script type="text/javascript">
var year_onex = {{ year_one|safe }};
var year_twox = {{ year_two|safe }}
var dist_2016 = {{ dist_2016|safe }}
var dist_2017 = {{ dist_2017|safe }}
var combined_map = {{ combined_map|safe}}
var plot_all = {{ plot_all|safe }}
//var top_ten = {{ top_ten|safe }}
var mc_plot = {{ plot_mc|safe }};
var river = {{ rivers|safe }};
var lake = {{ lakes|safe }};
var box_lakes = {{ box_lake|safe }};
var box_rivers = {{ box_river|safe }};
var box_mcs = {{ box_mc|safe }};
var plot_p = {{ plot_p|safe }};
var p_box = {{ p_box|safe }}


var year_one = [];
year_onex.forEach(function(element){
  element.date = Date.parse(element.date);
  element.density = parseFloat(element.density);
  var today = new Date();
  if (element.date < today){
    year_one.push({"name":element.location_id, "x":element.date, "y":element.density});
  }
});

var year_two = [];
year_twox.forEach(function(element){
  element.date = Date.parse(element.date);
  element.density = parseFloat(element.density);
  var today = new Date();
  if (element.date < today){
    year_two.push({"name":element.location_id, "x":element.date, "y":element.density});
  }
});

var ts_plot = [];
plot_all.forEach(function(element){
  element.date = Date.parse(element.date);
  element.density = parseFloat(element.density);
  var today = new Date();
  if (element.date < today){
    ts_plot.push({"name":element.location_id, "x":element.date, "y":element.density});
  }
});
var plot_mc = [];
mc_plot.forEach(function(element){
  element.date = Date.parse(element.date);
  element.density = parseFloat(element.density);
  plot_mc.push ({"name":element.location_id, "x":element.date, "y":element.density})
});
var p_plot = [];
plot_p.forEach(function(element){
  element.date = Date.parse(element.date);
  element.density = parseFloat(element.density);
  p_plot.push ({"name":element.location_id, "x":element.date, "y":element.density})
});

var riv_dens = [];
river.forEach(function(element){
  element.date = Date.parse(element.date);
  element.density = parseFloat(element.density);
  riv_dens.push ({"name":element.location_id, "x":element.date, "y":element.density})
});
//
var lak_dens = [];
lake.forEach(function(element){
  element.date = Date.parse(element.date);
  element.density = parseFloat(element.density);
  lak_dens.push ({"name":element.location_id, "x":element.date, "y":element.density})
});
//
var lake_box = [];
box_lakes.forEach(function(element){
  element[0] = Date.parse(element[0]);
  lake_box.push([element[0], element[1], element[2], element[3], element[4], element[5]])
});

var river_box = [];
box_rivers.forEach(function(element){
  element[0] = Date.parse(element[0]);
  river_box.push([element[0], element[1], element[2], element[3], element[4], element[5]])
});
//
var mc_box = [];
box_mcs.forEach(function(element){
  element[0] = Date.parse(element[0]);
  mc_box.push([element[0], element[1], element[2], element[3], element[4], element[5]])
});
var box_p = [];
p_box.forEach(function(element){
  element[0] = Date.parse(element[0]);
  box_p.push([element[0], element[1], element[2], element[3], element[4], element[5]])
});

</script>

<script src="{% static 'js/combined_ts.js' %}"></script>

<script type="text/javascript">
Highcharts.chart('scatterchart', {
    chart: {
        type: 'scatter',
        plotBorderWidth:0,
        spacingBottom: 20,
        zoomType: 'x',
        style: {
          fontFamily: 'sans-serif',
        }
    },
    title: {
        text: '',
        style: {
            display: 'none'
        }
    },
    subtitle: {
        text: '',
        style: {
            display: 'none'
        }
    },
    credits:{
      text:'hammerdirt 2018',

    },
    exporting: {
      enabled:false,
    },
    legend: {
      enabled: true,
      align: 'right',
      verticalAlign: 'top',
      horizontalAlign: 'right',
      layout:'vertical',
      floating:true,
      x:0,
      y:10,
      backgroundColor:'rgba(255,255,255, .4)',
      borderColor:'rgba(10, 46, 92, .5)',
      borderWidth:1,
      itemMarginTop:4,
      itemMarginBottom:4,
      itemStyle:{
        color: 'black',
        fontSize: 14,
        fontWeight: 'bold',
      }
    },
    xAxis: {
      type: 'datetime',
      tickInterval:3600*1000*24*28*2,
      labels: {
        style: {
          color:'rgba(00, 00, 00, 1)'
        }
      },
      dateTimeLabelFormats: {
        month: '%b - %Y',
      },
    },
    yAxis: {
        title: {
            align: 'low',
            offset: 40,
            text: 'Pieces of trash per meter of shoreline',
            style:{
              fontSize: '12px',
              color:'#000000',
            },
        },
        gridLineColor:'rgba(10, 46, 92, .1)',
        labels:{
          style: {
            color:'rgba(00, 00, 00, 1)'
          }
        },
        tickInterval: 8,
        min: 0,

    },
    tooltip: {
        headerFormat: '<b>{point.key}</b><br>',
        pointFormat: '{point.x:%e-%b}: {point.y:.2f} pcs/m'
    },
    series: [
      {
      zIndex:3,
      type: 'scatter',
      name:'Year one',
      marker: {
        symbol: 'circle',
        radius:6,
        lineColor: 'rgb(255, 255, 255, 1)',
        fillColor:  'rgb(255, 0, 0, .6)',
        lineWidth:1,
      },
      data:year_one,

    },
    {
      zIndex:3,
      type: 'scatter',
      name:'Year two',
      marker: {
        symbol: 'circle',
        radius:6,
        lineColor: 'rgb(255, 255, 255, 1)',
        fillColor:  'rgb(0, 0, 255, .6)',
        lineWidth:2,
      },
      data:year_two,

    },

  ],
  }
);
</script>


<script type="text/javascript">

Highcharts.chart('probchart', {

    chart: {

    },
    credits:{
      text:'hammerdirt 2018',

    },
    title: {
         text: ''
    },
    exporting: {
      enabled:false,
    },


    xAxis: {
        labels: {
            format: 'e^{value}'
        },
        minRange: 5,
        title: {
            text: 'log(pcs/m)'
        }
    },

    yAxis: {
        // startOnTick: true,
        // endOnTick: false,
        // maxPadding: 0.35,
        title: {
            text: 'frequency'
        },
        labels: {
            format: '{value}'
        }
    },

    // tooltip: {
    //     headerFormat: 'Distance: {point.x:.1f} km<br>',
    //     pointFormat: '{point.y} m a. s. l.',
    //     shared: true
    // },

    legend: {
        enabled: false
    },

    series: [{
        data: dist_2016,
        lineColor: 'rgb(255, 0, 0, .6)',
        // lineColor: Highcharts.getOptions().colors[2],
        // color: Highcharts.getOptions().colors[2],
        // fillOpacity: 0.5,
        name: 'Year one',
        // dashStyle: 'shortdot',
        marker: {
            enabled: false
        },
        threshold: null
    },{
        data: dist_2017,
        lineColor: 'rgb(0, 0, 255, .6)',
        // color: Highcharts.getOptions().colors[2],
        // fillOpacity: 0.5,
        name: 'Year two',
        // dashStyle: 'longdash',
        marker: {
            enabled: false
        },
        threshold: null
    }
  ]

});

</script>

<script type="text/javascript">

</script>


<script type="text/javascript">
Highcharts.chart('box_plot_one', {

    chart: {
        type: 'boxplot',
        zoomType:'x',
        spacingBottom: 20,
    },
    exporting: {
      enabled:false,
    },

    title: {
        text: null,
        style:{
          fontSize: '14px',
          color:'#0A2E5C',

        },
    },
    subtitle: {
      text: null,
      style:{
        fontSize: '10px',
        color:'#0A2E5C',
      }

    },
    credits:{
      text:'hammerdirt 2018',

    },

    legend: {
      enabled: true,
      verticalAlign: 'bottom',
      align: 'center',
      layout:'horizontal',
      backgroundColor:'rgba(255,255,255, .4)',
      borderColor:'rgba(10, 46, 92, .4)',
      borderWidth:1,
      padding:8,
      margin:12,
      itemMarginBottom:2,
      itemDistance: 4,
      itemWidth:99,
      itemStyle:{
        color: 'black',
        fontSize: '10px',

      },
    },
    plotOptions:{
      boxplot:{
        stemColor:'rgb(10, 46, 92, 1)',
        stemDashStyle: 'dash',
        stemWidth:1,
        whiskerColor: 'rgba(00, 00, 00, 1)',
        groupPadding:0,
      }
    },

    xAxis: [{
        // categories:box_cats,
        type: 'datetime',
        min: Date.UTC(2015, 11, 01),
        tickColor:'rgba(00, 00, 00, 1)',
        tickInterval:3600*1000*24*28,
        tickColor:'rgba(00, 00, 00, 1)',
        labels: {
          rotation:270,
          color:'rgba(00, 00, 00, 1)',
          fontSize:'10px'
        },
        opposite:false,

    },

  ],
    yAxis: {
      min:0,
      max:85,
      ceiling:50,
      alignTicks:false,
      tickInterval:10,
      minPadding:0.1,
      title: {
          align: 'low',
          offset: 40,
          text: 'Pieces of trash per meter',
          style:{
            fontSize: '12px',
            color:'#0A2E5C',
          },
      },
      gridLineColor:'rgba(10, 46, 92, .1)',
      minorTickInterval:2,
      labels:{
        style: {
          color:'rgba(00, 00, 00, 1)',
          fontSize: '10px'
        }
      },

    },

    series:
    [
      {
      zIndex:3,
      fillColor:'rgba(255, 65, 168, .6)',
      lineColor: 'rgba(00, 00, 00, 1)',
      medianColor:'rgba(22, 199, 158, 1)',
      color:'rgba(255, 65, 168, .6)',
      xAxis:0,
      type: 'boxplot',
      name: 'SLR lakes - monthly',
      data: lake_box,
      tooltip: {
          headerFormat: '<em>{point.key}</em><br/>'
      },

    },
    {
      zIndex:3,
      fillColor:'rgba(10, 46, 92, 1)',
      lineColor: 'rgba(00, 00, 00, 1)',
      medianColor:'rgba(22, 199, 158, 1)',
      color:'rgba(10, 46, 92, 1)',
      xAxis:0,
      type: 'boxplot',
      name: 'SLR rivers - monthly',
      data: river_box,
      tooltip: {
          headerFormat: '<em>{point.key}</em><br/>'
      },

    },
    {
      zIndex:3,
      fillColor:'rgba(255, 65, 168, .6)',
      lineColor: 'rgba(00, 00, 00, 1)',
      medianColor:'rgba(22, 199, 158, 1)',
      color:'rgba(255, 65, 168, .6)',
      squareSymbol: true,
      xAxis:0,
      type: 'boxplot',
      name: 'MCBP - monthly',
      data: mc_box,
      tooltip: {
          headerFormat: '<em>{point.key}</em><br/>'
      },

    },
    {
      zIndex:2,
      xAxis:0,
      type: 'scatter',
      name:'SLR - lake',
      marker: {
        symbol: 'circle',
        radius:3,
        lineColor: 'rgba(00, 00, 00, .3)',
        fillColor:  'rgba(255, 65, 168, .5)',
        lineWidth:1,
      },
      data:lak_dens,
      tooltip: {
          headerFormat: '<b>{point.key}</b><br>',
          pointFormat: '{point.x:%e-%b}: {point.y:.2f} pcs/m'
      },
    },
    {
      zIndex:2,
      xAxis:0,
      type: 'scatter',
      name:'SLR - river',
      marker: {
        symbol: 'circle',
        radius:3,
        lineColor: 'rgba(00, 00, 00, .3)',
        fillColor:  'rgba(10, 46, 92, .4)',
        lineWidth:1,
      },
      data:riv_dens,
      tooltip: {
          headerFormat: '<b>{point.key}</b><br>',
          pointFormat: '{point.x:%e-%b}: {point.y:.2f} pcs/m'
      },
    },
    {
      zIndex:2,
      xAxis:0,
      type: 'scatter',
      name:'MCBP - lake',
      marker: {
         symbol: 'circle',
        radius:3,
        lineColor: 'rgba(00, 00, 00, .3)',
        fillColor:  'rgba(255, 65, 168, .5)',
        lineWidth:1,
      },
      data:plot_mc,
      tooltip: {
          headerFormat: '<b>{point.key}</b><br>',
          pointFormat: '{point.x:%e-%b}: {point.y:.2f} pcs/m'
      },

    },
    {
      zIndex:2,
      xAxis:0,
      type: 'scatter',
      name:'Precious - lake',
      marker: {
         symbol: 'circle',
        radius:3,
        lineColor: 'rgba(00, 00, 00, .3)',
        fillColor:  'rgba(255, 65, 168, .5)',
        lineWidth:1,
      },
      data:p_plot,
      tooltip: {
          headerFormat: '<b>{point.key}</b><br>',
          pointFormat: '{point.x:%e-%b}: {point.y:.2f} pcs/m'
      },

    }

    ]

});

</script>

<script type="text/javascript">


$(document).ready(function() {

  $('.shutterTitle').click(function() {
    var parentTag = $( this ).parent();
    var this_height = $(this);
    var this_child = $(this).children()[1];
    console.log(this_child);

    $( parentTag ).each(function(i){
      if ($(parentTag).hasClass('close-animate') || !$(parentTag).hasClass('shutterExpanded')) {
      console.log(this);
      $(this_height ).css("height", "auto");
      $(this_height).addClass('text-right');
      $(this_height).addClass('pr-3');
      $(this_height).removeClass('p-1');

      $(parentTag).removeClass('close-animate').addClass('shutterExpanded');
      $('.wrapper').addClass('shutterOpen');
      console.log(this_child)

    } else {
      console.log("Else");
      $(this).removeClass('shutterExpanded').addClass('close-animate');
      $(this_height).removeClass('text-right');
      $(this_height).removeClass('pr-3');
      $(this_height).addClass('p-1');
      // $(this_height).children(".p").css("display", "visible");
      $(this_height ).css("height", "100%");
      $('.wrapper').removeClass('shutterOpen');
      console.log(this);
    }

  });
})}
);
</script> -->
